import{v as j,P as G,q as Y,av as I,a4 as k,aw as R,ax as B,ay as U,D as w,p as F,h as z,k as V}from"./framework.DLn7jew2.js";function H(e){return B()?(U(e),!0):!1}const N=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const $=e=>e!=null,J=Object.prototype.toString,K=e=>J.call(e)==="[object Object]",q=()=>{};function C(e,n){function l(...u){return new Promise((i,t)=>{Promise.resolve(e(()=>n.apply(this,u),{fn:n,thisArg:this,args:u})).then(i).catch(t)})}return l}const Q=e=>e();function Z(...e){let n=0,l,u=!0,i=q,t,r,o,s,a;!I(e[0])&&typeof e[0]=="object"?{delay:r,trailing:o=!0,leading:s=!0,rejectOnCancel:a=!1}=e[0]:[r,o=!0,s=!0,a=!1]=e;const d=()=>{l&&(clearTimeout(l),l=void 0,i(),i=q)};return m=>{const v=R(r),p=Date.now()-n,O=()=>t=m();return d(),v<=0?(n=Date.now(),O()):(p>v&&(s||!u)?(n=Date.now(),O()):o&&(t=new Promise((f,y)=>{i=a?y:f,l=setTimeout(()=>{n=Date.now(),u=!0,f(O()),d()},Math.max(0,v-p))})),!s&&!l&&(l=setTimeout(()=>u=!0,v)),u=!1,t)}}function W(e){return Array.isArray(e)?e:[e]}function ee(e){return k()}function fe(e,n=200,l=!1,u=!0,i=!1){return C(Z(n,l,u,i),e)}function te(e,n=!0,l){ee()?j(e,l):n?e():G(e)}function ne(e,n,l){return Y(e,n,{...l,immediate:!0})}const S=N?window:void 0;function P(e){var n;const l=R(e);return(n=l==null?void 0:l.$el)!=null?n:l}function E(...e){const n=[],l=()=>{n.forEach(o=>o()),n.length=0},u=(o,s,a,d)=>(o.addEventListener(s,a,d),()=>o.removeEventListener(s,a,d)),i=z(()=>{const o=W(R(e[0])).filter(s=>s!=null);return o.every(s=>typeof s!="string")?o:void 0}),t=ne(()=>{var o,s;return[(s=(o=i.value)==null?void 0:o.map(a=>P(a)))!=null?s:[S].filter(a=>a!=null),W(R(i.value?e[1]:e[0])),W(V(i.value?e[2]:e[1])),R(i.value?e[3]:e[2])]},([o,s,a,d])=>{if(l(),!(o!=null&&o.length)||!(s!=null&&s.length)||!(a!=null&&a.length))return;const h=K(d)?{...d}:d;n.push(...o.flatMap(m=>s.flatMap(v=>a.map(p=>u(m,v,p,h)))))},{flush:"post"}),r=()=>{t(),l()};return H(l),r}function oe(){const e=w(!1),n=k();return n&&j(()=>{e.value=!0},n),e}function T(e){const n=oe();return z(()=>(n.value,!!e()))}function se(e,n,l={}){const{window:u=S,...i}=l;let t;const r=T(()=>u&&"MutationObserver"in u),o=()=>{t&&(t.disconnect(),t=void 0)},s=z(()=>{const m=R(e),v=W(m).map(P).filter($);return new Set(v)}),a=Y(s,m=>{o(),r.value&&m.size&&(t=new MutationObserver(n),m.forEach(v=>t.observe(v,i)))},{immediate:!0,flush:"post"}),d=()=>t==null?void 0:t.takeRecords(),h=()=>{a(),o()};return H(h),{isSupported:r,stop:h,takeRecords:d}}const le=500,ie=10;function ve(e,n,l){var u,i;const t=z(()=>P(e));let r,o;function s(){r&&(clearTimeout(r),r=void 0),o=void 0}function a(f){return le}function d(f){s()}function h(f){var y,g,b;(y=void 0)!=null&&y.self&&f.target!==t.value||(s(),(g=void 0)!=null&&g.prevent&&f.preventDefault(),(b=void 0)!=null&&b.stop&&f.stopPropagation(),o={x:f.x,y:f.y},f.timeStamp,r=setTimeout(()=>{n(f)},a()))}function m(f){var y,g,b,D;if((y=void 0)!=null&&y.self&&f.target!==t.value||!o)return;(g=void 0)!=null&&g.prevent&&f.preventDefault(),(b=void 0)!=null&&b.stop&&f.stopPropagation();const M=f.x-o.x,x=f.y-o.y;Math.sqrt(M*M+x*x)>=((D=void 0)!=null?D:ie)&&s()}const v={capture:(u=void 0)==null?void 0:u.capture,once:(i=void 0)==null?void 0:i.once},p=[E(t,"pointerdown",h,v),E(t,"pointermove",m,v),E(t,["pointerup","pointerleave"],d,v)];return()=>p.forEach(f=>f())}function pe(e={}){const{window:n=S,requestPermissions:l=!1,eventFilter:u=Q}=e,i=T(()=>typeof DeviceMotionEvent<"u"),t=T(()=>i.value&&"requestPermission"in DeviceMotionEvent&&typeof DeviceMotionEvent.requestPermission=="function"),r=w(!1),o=F({x:null,y:null,z:null}),s=F({alpha:null,beta:null,gamma:null}),a=w(0),d=F({x:null,y:null,z:null});function h(){if(n){const v=C(u,p=>{var O,f,y,g,b,D,M,x,c;o.value={x:((O=p.acceleration)==null?void 0:O.x)||null,y:((f=p.acceleration)==null?void 0:f.y)||null,z:((y=p.acceleration)==null?void 0:y.z)||null},d.value={x:((g=p.accelerationIncludingGravity)==null?void 0:g.x)||null,y:((b=p.accelerationIncludingGravity)==null?void 0:b.y)||null,z:((D=p.accelerationIncludingGravity)==null?void 0:D.z)||null},s.value={alpha:((M=p.rotationRate)==null?void 0:M.alpha)||null,beta:((x=p.rotationRate)==null?void 0:x.beta)||null,gamma:((c=p.rotationRate)==null?void 0:c.gamma)||null},a.value=p.interval});E(n,"devicemotion",v,{passive:!0})}}const m=async()=>{if(t.value||(r.value=!0),!r.value&&t.value){const v=DeviceMotionEvent.requestPermission;try{await v()==="granted"&&(r.value=!0,h())}catch(p){console.error(p)}}};return i.value&&(l&&t.value?m().then(()=>h()):h()),{acceleration:o,accelerationIncludingGravity:d,rotationRate:s,interval:a,isSupported:i,requirePermissions:t,ensurePermissions:m,permissionGranted:r}}function de(e={}){const{window:n=S}=e,l=T(()=>n&&"DeviceOrientationEvent"in n),u=w(!1),i=w(null),t=w(null),r=w(null);return n&&l.value&&E(n,"deviceorientation",o=>{u.value=o.absolute,i.value=o.alpha,t.value=o.beta,r.value=o.gamma},{passive:!0}),{isSupported:l,isAbsolute:u,alpha:i,beta:t,gamma:r}}function re(e,n,l={}){const{window:u=S,...i}=l;let t;const r=T(()=>u&&"ResizeObserver"in u),o=()=>{t&&(t.disconnect(),t=void 0)},s=z(()=>{const h=R(e);return Array.isArray(h)?h.map(m=>P(m)):[P(h)]}),a=Y(s,h=>{if(o(),r.value&&u){t=new ResizeObserver(n);for(const m of h)m&&t.observe(m,i)}},{immediate:!0,flush:"post"}),d=()=>{o(),a()};return H(d),{isSupported:r,stop:d}}const ue={page:e=>[e.pageX,e.pageY],client:e=>[e.clientX,e.clientY],screen:e=>[e.screenX,e.screenY],movement:e=>e instanceof MouseEvent?[e.movementX,e.movementY]:null};function ae(e={}){const{type:n="page",touch:l=!0,resetOnTouchEnds:u=!1,initialValue:i={x:0,y:0},window:t=S,target:r=t,scroll:o=!0,eventFilter:s}=e;let a=null,d=0,h=0;const m=w(i.x),v=w(i.y),p=w(null),O=typeof n=="function"?n:ue[n],f=c=>{const _=O(c);a=c,_&&([m.value,v.value]=_,p.value="mouse"),t&&(d=t.scrollX,h=t.scrollY)},y=c=>{if(c.touches.length>0){const _=O(c.touches[0]);_&&([m.value,v.value]=_,p.value="touch")}},g=()=>{if(!a||!t)return;const c=O(a);a instanceof MouseEvent&&c&&(m.value=c[0]+t.scrollX-d,v.value=c[1]+t.scrollY-h)},b=()=>{m.value=i.x,v.value=i.y},D=s?c=>s(()=>f(c),{}):c=>f(c),M=s?c=>s(()=>y(c),{}):c=>y(c),x=s?()=>s(()=>g(),{}):()=>g();if(r){const c={passive:!0};E(r,["mousemove","dragover"],D,c),l&&n!=="movement"&&(E(r,["touchstart","touchmove"],M,c),u&&E(r,"touchend",b,c)),o&&n==="page"&&E(t,"scroll",x,c)}return{x:m,y:v,sourceType:p}}function me(e,n={}){const{windowResize:l=!0,windowScroll:u=!0,handleOutside:i=!0,window:t=S}=n,r=n.type||"page",{x:o,y:s,sourceType:a}=ae(n),d=w(e??(t==null?void 0:t.document.body)),h=w(0),m=w(0),v=w(0),p=w(0),O=w(0),f=w(0),y=w(!0);function g(){if(!t)return;const M=P(d);if(!M||!(M instanceof Element))return;const{left:x,top:c,width:_,height:L}=M.getBoundingClientRect();v.value=x+(r==="page"?t.pageXOffset:0),p.value=c+(r==="page"?t.pageYOffset:0),O.value=L,f.value=_;const X=o.value-v.value,A=s.value-p.value;y.value=_===0||L===0||X<0||A<0||X>_||A>L,(i||!y.value)&&(h.value=X,m.value=A)}const b=[];function D(){b.forEach(M=>M()),b.length=0}if(te(()=>{g()}),t){const{stop:M}=re(d,g),{stop:x}=se(d,g,{attributeFilter:["style","class"]}),c=Y([d,o,s],g);b.push(M,x,c),E(document,"mouseleave",()=>y.value=!0,{passive:!0}),u&&b.push(E("scroll",g,{capture:!0,passive:!0})),l&&b.push(E("resize",g,{passive:!0}))}return{x:o,y:s,sourceType:a,elementX:h,elementY:m,elementPositionX:v,elementPositionY:p,elementHeight:O,elementWidth:f,isOutside:y,stop:D}}export{fe as a,pe as b,de as c,ve as o,me as u};
