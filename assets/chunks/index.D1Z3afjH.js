import{v as F,P as I,q as T,au as U,av as B,aw as R,a4 as H,ax as V,ay as $,D as y,p as C,z as N,h as W,k as J}from"./framework.CjnDDKZX.js";function K(e,t,s={}){let i,r,n,u=!0;const o=()=>{u=!0,n()};T(e,o,{flush:"sync",...s});const l=typeof t=="function"?t:t.get,a=typeof t=="function"?void 0:t.set,f=U((h,c)=>(r=h,n=c,{get(){return u&&(i=l(i),u=!1),r(),i},set(d){a==null||a(d)}}));return f.trigger=o,f}function k(e){return V()?($(e),!0):!1}const Q=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const Z=e=>e!=null,ee=Object.prototype.toString,te=e=>ee.call(e)==="[object Object]",q=()=>{};function j(e,t){function s(...i){return new Promise((r,n)=>{Promise.resolve(e(()=>t.apply(this,i),{fn:t,thisArg:this,args:i})).then(r).catch(n)})}return s}const ne=e=>e();function oe(...e){let t=0,s,i=!0,r=q,n,u,o,l,a;!B(e[0])&&typeof e[0]=="object"?{delay:u,trailing:o=!0,leading:l=!0,rejectOnCancel:a=!1}=e[0]:[u,o=!0,l=!0,a=!1]=e;const f=()=>{s&&(clearTimeout(s),s=void 0,r(),r=q)};return c=>{const d=R(u),m=Date.now()-t,p=()=>n=c();return f(),d<=0?(t=Date.now(),p()):(m>d&&(l||!i)?(t=Date.now(),p()):o&&(n=new Promise((w,b)=>{r=a?b:w,s=setTimeout(()=>{t=Date.now(),i=!0,w(p()),f()},Math.max(0,d-m))})),!l&&!s&&(s=setTimeout(()=>i=!0,d)),i=!1,n)}}function Y(e){return Array.isArray(e)?e:[e]}function se(e){return H()}function me(e,t=200,s=!1,i=!0,r=!1){return j(oe(t,s,i,r),e)}function G(e,t=!0,s){se()?F(e,s):t?e():I(e)}function le(e,t,s){return T(e,t,{...s,immediate:!0})}const P=Q?window:void 0;function S(e){var t;const s=R(e);return(t=s==null?void 0:s.$el)!=null?t:s}function O(...e){const t=[],s=()=>{t.forEach(o=>o()),t.length=0},i=(o,l,a,f)=>(o.addEventListener(l,a,f),()=>o.removeEventListener(l,a,f)),r=W(()=>{const o=Y(R(e[0])).filter(l=>l!=null);return o.every(l=>typeof l!="string")?o:void 0}),n=le(()=>{var o,l;return[(l=(o=r.value)==null?void 0:o.map(a=>S(a)))!=null?l:[P].filter(a=>a!=null),Y(R(r.value?e[1]:e[0])),Y(J(r.value?e[2]:e[1])),R(r.value?e[3]:e[2])]},([o,l,a,f])=>{if(s(),!(o!=null&&o.length)||!(l!=null&&l.length)||!(a!=null&&a.length))return;const h=te(f)?{...f}:f;t.push(...o.flatMap(c=>l.flatMap(d=>a.map(m=>i(c,d,m,h)))))},{flush:"post"}),u=()=>{n(),s()};return k(s),u}function ie(){const e=y(!1),t=H();return t&&F(()=>{e.value=!0},t),e}function z(e){const t=ie();return W(()=>(t.value,!!e()))}function re(e,t,s={}){const{window:i=P,...r}=s;let n;const u=z(()=>i&&"MutationObserver"in i),o=()=>{n&&(n.disconnect(),n=void 0)},l=W(()=>{const c=R(e),d=Y(c).map(S).filter(Z);return new Set(d)}),a=T(()=>l.value,c=>{o(),u.value&&c.size&&(n=new MutationObserver(t),c.forEach(d=>n.observe(d,r)))},{immediate:!0,flush:"post"}),f=()=>n==null?void 0:n.takeRecords(),h=()=>{a(),o()};return k(h),{isSupported:u,stop:h,takeRecords:f}}const ue=500,ae=10;function he(e,t,s){var i,r;const n=W(()=>S(e));let u,o;function l(){u&&(clearTimeout(u),u=void 0),o=void 0}function a(p){l()}function f(p){var w,b,g,E;(w=void 0)!=null&&w.self&&p.target!==n.value||(l(),(b=void 0)!=null&&b.prevent&&p.preventDefault(),(g=void 0)!=null&&g.stop&&p.stopPropagation(),o={x:p.x,y:p.y},p.timeStamp,u=setTimeout(()=>{t(p)},(E=void 0)!=null?E:ue))}function h(p){var w,b,g,E;if((w=void 0)!=null&&w.self&&p.target!==n.value||!o)return;(b=void 0)!=null&&b.prevent&&p.preventDefault(),(g=void 0)!=null&&g.stop&&p.stopPropagation();const x=p.x-o.x,M=p.y-o.y;Math.sqrt(x*x+M*M)>=((E=void 0)!=null?E:ae)&&l()}const c={capture:(i=void 0)==null?void 0:i.capture,once:(r=void 0)==null?void 0:r.once},d=[O(n,"pointerdown",f,c),O(n,"pointermove",h,c),O(n,["pointerup","pointerleave"],a,c)];return()=>d.forEach(p=>p())}function ce(e){const t=H(),s=K(()=>null,()=>t.proxy.$el);return N(s.trigger),F(s.trigger),s}function ye(e={}){const{window:t=P,requestPermissions:s=!1,eventFilter:i=ne}=e,r=z(()=>typeof DeviceMotionEvent<"u"),n=z(()=>r.value&&"requestPermission"in DeviceMotionEvent&&typeof DeviceMotionEvent.requestPermission=="function"),u=y(!1),o=C({x:null,y:null,z:null}),l=C({alpha:null,beta:null,gamma:null}),a=y(0),f=C({x:null,y:null,z:null});function h(){if(t){const d=j(i,m=>{var p,w,b,g,E,x,M,D,v;o.value={x:((p=m.acceleration)==null?void 0:p.x)||null,y:((w=m.acceleration)==null?void 0:w.y)||null,z:((b=m.acceleration)==null?void 0:b.z)||null},f.value={x:((g=m.accelerationIncludingGravity)==null?void 0:g.x)||null,y:((E=m.accelerationIncludingGravity)==null?void 0:E.y)||null,z:((x=m.accelerationIncludingGravity)==null?void 0:x.z)||null},l.value={alpha:((M=m.rotationRate)==null?void 0:M.alpha)||null,beta:((D=m.rotationRate)==null?void 0:D.beta)||null,gamma:((v=m.rotationRate)==null?void 0:v.gamma)||null},a.value=m.interval});O(t,"devicemotion",d,{passive:!0})}}const c=async()=>{if(n.value||(u.value=!0),!u.value&&n.value){const d=DeviceMotionEvent.requestPermission;try{await d()==="granted"&&(u.value=!0,h())}catch(m){console.error(m)}}};return r.value&&(s&&n.value?c().then(()=>h()):h()),{acceleration:o,accelerationIncludingGravity:f,rotationRate:l,interval:a,isSupported:r,requirePermissions:n,ensurePermissions:c,permissionGranted:u}}function ge(e={}){const{window:t=P}=e,s=z(()=>t&&"DeviceOrientationEvent"in t),i=y(!1),r=y(null),n=y(null),u=y(null);return t&&s.value&&O(t,"deviceorientation",o=>{i.value=o.absolute,r.value=o.alpha,n.value=o.beta,u.value=o.gamma},{passive:!0}),{isSupported:s,isAbsolute:i,alpha:r,beta:n,gamma:u}}function fe(e,t,s={}){const{window:i=P,...r}=s;let n;const u=z(()=>i&&"ResizeObserver"in i),o=()=>{n&&(n.disconnect(),n=void 0)},l=W(()=>{const h=R(e);return Array.isArray(h)?h.map(c=>S(c)):[S(h)]}),a=T(l,h=>{if(o(),u.value&&i){n=new ResizeObserver(t);for(const c of h)c&&n.observe(c,r)}},{immediate:!0,flush:"post"}),f=()=>{o(),a()};return k(f),{isSupported:u,stop:f}}const pe={page:e=>[e.pageX,e.pageY],client:e=>[e.clientX,e.clientY],screen:e=>[e.screenX,e.screenY],movement:e=>e instanceof MouseEvent?[e.movementX,e.movementY]:null};function ve(e={}){const{type:t="page",touch:s=!0,resetOnTouchEnds:i=!1,initialValue:r={x:0,y:0},window:n=P,target:u=n,scroll:o=!0,eventFilter:l}=e;let a=null,f=0,h=0;const c=y(r.x),d=y(r.y),m=y(null),p=typeof t=="function"?t:pe[t],w=v=>{const _=p(v);a=v,_&&([c.value,d.value]=_,m.value="mouse"),n&&(f=n.scrollX,h=n.scrollY)},b=v=>{if(v.touches.length>0){const _=p(v.touches[0]);_&&([c.value,d.value]=_,m.value="touch")}},g=()=>{if(!a||!n)return;const v=p(a);a instanceof MouseEvent&&v&&(c.value=v[0]+n.scrollX-f,d.value=v[1]+n.scrollY-h)},E=()=>{c.value=r.x,d.value=r.y},x=l?v=>l(()=>w(v),{}):v=>w(v),M=l?v=>l(()=>b(v),{}):v=>b(v),D=l?()=>l(()=>g(),{}):()=>g();if(u){const v={passive:!0};O(u,["mousemove","dragover"],x,v),s&&t!=="movement"&&(O(u,["touchstart","touchmove"],M,v),i&&O(u,"touchend",E,v)),o&&t==="page"&&O(n,"scroll",D,v)}return{x:c,y:d,sourceType:m}}function we(e,t={}){const{windowResize:s=!0,windowScroll:i=!0,handleOutside:r=!0,window:n=P}=t,u=t.type||"page",{x:o,y:l,sourceType:a}=ve(t),f=y(e??(n==null?void 0:n.document.body)),h=y(0),c=y(0),d=y(0),m=y(0),p=y(0),w=y(0),b=y(!0);function g(){if(!n)return;const M=S(f);if(!M||!(M instanceof Element))return;const{left:D,top:v,width:_,height:L}=M.getBoundingClientRect();d.value=D+(u==="page"?n.pageXOffset:0),m.value=v+(u==="page"?n.pageYOffset:0),p.value=L,w.value=_;const X=o.value-d.value,A=l.value-m.value;b.value=_===0||L===0||X<0||A<0||X>_||A>L,r&&(h.value=X,c.value=A)}const E=[];function x(){E.forEach(M=>M()),E.length=0}if(G(()=>{g()}),n){const{stop:M}=fe(f,g),{stop:D}=re(f,g,{attributeFilter:["style","class"]}),v=T([f,o,l],g);E.push(M,D,v),O(document,"mouseleave",()=>b.value=!0,{passive:!0}),i&&E.push(O("scroll",g,{capture:!0,passive:!0})),s&&E.push(O("resize",g,{passive:!0}))}return{x:o,y:l,sourceType:a,elementX:h,elementY:c,elementPositionX:d,elementPositionY:m,elementHeight:p,elementWidth:w,isOutside:b,stop:x}}function be(e=ce()){const t=y(),s=()=>{const i=S(e);i&&(t.value=i.parentElement)};return G(s),T(()=>R(e),s),t}export{we as a,me as b,ye as c,ge as d,he as o,be as u};
