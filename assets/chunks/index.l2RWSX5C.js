import{v as F,P as I,q as z,av as U,aw as B,a4 as H,ax as _,ay as V,az as $,D as y,p as C,z as N,h as W,k as J}from"./framework.BC-DyGUS.js";function K(e,t,s={}){let i,r,n,u=!0;const o=()=>{u=!0,n()};z(e,o,{flush:"sync",...s});const l=typeof t=="function"?t:t.get,a=typeof t=="function"?void 0:t.set,c=U((h,v)=>(r=h,n=v,{get(){return u&&(i=l(i),u=!1),r(),i},set(f){a==null||a(f)}}));return c.trigger=o,c}function k(e){return V()?($(e),!0):!1}const Q=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const Z=e=>e!=null,ee=Object.prototype.toString,te=e=>ee.call(e)==="[object Object]",q=()=>{};function j(e,t){function s(...i){return new Promise((r,n)=>{Promise.resolve(e(()=>t.apply(this,i),{fn:t,thisArg:this,args:i})).then(r).catch(n)})}return s}const ne=e=>e();function oe(...e){let t=0,s,i=!0,r=q,n,u,o,l,a;!B(e[0])&&typeof e[0]=="object"?{delay:u,trailing:o=!0,leading:l=!0,rejectOnCancel:a=!1}=e[0]:[u,o=!0,l=!0,a=!1]=e;const c=()=>{s&&(clearTimeout(s),s=void 0,r(),r=q)};return v=>{const f=_(u),m=Date.now()-t,M=()=>n=v();return c(),f<=0?(t=Date.now(),M()):(m>f&&(l||!i)?(t=Date.now(),M()):o&&(n=new Promise((d,g)=>{r=a?g:d,s=setTimeout(()=>{t=Date.now(),i=!0,d(M()),c()},Math.max(0,f-m))})),!l&&!s&&(s=setTimeout(()=>i=!0,f)),i=!1,n)}}function Y(e){return Array.isArray(e)?e:[e]}function se(e){return H()}function me(e,t=200,s=!1,i=!0,r=!1){return j(oe(t,s,i,r),e)}function G(e,t=!0,s){se()?F(e,s):t?e():I(e)}function le(e,t,s){return z(e,t,{...s,immediate:!0})}const P=Q?window:void 0;function S(e){var t;const s=_(e);return(t=s==null?void 0:s.$el)!=null?t:s}function O(...e){const t=[],s=()=>{t.forEach(o=>o()),t.length=0},i=(o,l,a,c)=>(o.addEventListener(l,a,c),()=>o.removeEventListener(l,a,c)),r=W(()=>{const o=Y(_(e[0])).filter(l=>l!=null);return o.every(l=>typeof l!="string")?o:void 0}),n=le(()=>{var o,l;return[(l=(o=r.value)==null?void 0:o.map(a=>S(a)))!=null?l:[P].filter(a=>a!=null),Y(_(r.value?e[1]:e[0])),Y(J(r.value?e[2]:e[1])),_(r.value?e[3]:e[2])]},([o,l,a,c])=>{if(s(),!(o!=null&&o.length)||!(l!=null&&l.length)||!(a!=null&&a.length))return;const h=te(c)?{...c}:c;t.push(...o.flatMap(v=>l.flatMap(f=>a.map(m=>i(v,f,m,h)))))},{flush:"post"}),u=()=>{n(),s()};return k(s),u}function ie(){const e=y(!1),t=H();return t&&F(()=>{e.value=!0},t),e}function T(e){const t=ie();return W(()=>(t.value,!!e()))}function re(e,t,s={}){const{window:i=P,...r}=s;let n;const u=T(()=>i&&"MutationObserver"in i),o=()=>{n&&(n.disconnect(),n=void 0)},l=W(()=>{const v=_(e),f=Y(v).map(S).filter(Z);return new Set(f)}),a=z(l,v=>{o(),u.value&&v.size&&(n=new MutationObserver(t),v.forEach(f=>n.observe(f,r)))},{immediate:!0,flush:"post"}),c=()=>n==null?void 0:n.takeRecords(),h=()=>{a(),o()};return k(h),{isSupported:u,stop:h,takeRecords:c}}const ue=500,ae=10;function he(e,t,s){var i,r;const n=W(()=>S(e));let u,o;function l(){u&&(clearTimeout(u),u=void 0),o=void 0}function a(d){return ue}function c(d){l()}function h(d){var g,w,b;(g=void 0)!=null&&g.self&&d.target!==n.value||(l(),(w=void 0)!=null&&w.prevent&&d.preventDefault(),(b=void 0)!=null&&b.stop&&d.stopPropagation(),o={x:d.x,y:d.y},d.timeStamp,u=setTimeout(()=>{t(d)},a()))}function v(d){var g,w,b,D;if((g=void 0)!=null&&g.self&&d.target!==n.value||!o)return;(w=void 0)!=null&&w.prevent&&d.preventDefault(),(b=void 0)!=null&&b.stop&&d.stopPropagation();const E=d.x-o.x,x=d.y-o.y;Math.sqrt(E*E+x*x)>=((D=void 0)!=null?D:ae)&&l()}const f={capture:(i=void 0)==null?void 0:i.capture,once:(r=void 0)==null?void 0:r.once},m=[O(n,"pointerdown",h,f),O(n,"pointermove",v,f),O(n,["pointerup","pointerleave"],c,f)];return()=>m.forEach(d=>d())}function ce(e){const t=H(),s=K(()=>null,()=>t.proxy.$el);return N(s.trigger),F(s.trigger),s}function ye(e={}){const{window:t=P,requestPermissions:s=!1,eventFilter:i=ne}=e,r=T(()=>typeof DeviceMotionEvent<"u"),n=T(()=>r.value&&"requestPermission"in DeviceMotionEvent&&typeof DeviceMotionEvent.requestPermission=="function"),u=y(!1),o=C({x:null,y:null,z:null}),l=C({alpha:null,beta:null,gamma:null}),a=y(0),c=C({x:null,y:null,z:null});function h(){if(t){const f=j(i,m=>{var M,d,g,w,b,D,E,x,p;o.value={x:((M=m.acceleration)==null?void 0:M.x)||null,y:((d=m.acceleration)==null?void 0:d.y)||null,z:((g=m.acceleration)==null?void 0:g.z)||null},c.value={x:((w=m.accelerationIncludingGravity)==null?void 0:w.x)||null,y:((b=m.accelerationIncludingGravity)==null?void 0:b.y)||null,z:((D=m.accelerationIncludingGravity)==null?void 0:D.z)||null},l.value={alpha:((E=m.rotationRate)==null?void 0:E.alpha)||null,beta:((x=m.rotationRate)==null?void 0:x.beta)||null,gamma:((p=m.rotationRate)==null?void 0:p.gamma)||null},a.value=m.interval});O(t,"devicemotion",f,{passive:!0})}}const v=async()=>{if(n.value||(u.value=!0),!u.value&&n.value){const f=DeviceMotionEvent.requestPermission;try{await f()==="granted"&&(u.value=!0,h())}catch(m){console.error(m)}}};return r.value&&(s&&n.value?v().then(()=>h()):h()),{acceleration:o,accelerationIncludingGravity:c,rotationRate:l,interval:a,isSupported:r,requirePermissions:n,ensurePermissions:v,permissionGranted:u}}function ge(e={}){const{window:t=P}=e,s=T(()=>t&&"DeviceOrientationEvent"in t),i=y(!1),r=y(null),n=y(null),u=y(null);return t&&s.value&&O(t,"deviceorientation",o=>{i.value=o.absolute,r.value=o.alpha,n.value=o.beta,u.value=o.gamma},{passive:!0}),{isSupported:s,isAbsolute:i,alpha:r,beta:n,gamma:u}}function fe(e,t,s={}){const{window:i=P,...r}=s;let n;const u=T(()=>i&&"ResizeObserver"in i),o=()=>{n&&(n.disconnect(),n=void 0)},l=W(()=>{const h=_(e);return Array.isArray(h)?h.map(v=>S(v)):[S(h)]}),a=z(l,h=>{if(o(),u.value&&i){n=new ResizeObserver(t);for(const v of h)v&&n.observe(v,r)}},{immediate:!0,flush:"post"}),c=()=>{o(),a()};return k(c),{isSupported:u,stop:c}}const pe={page:e=>[e.pageX,e.pageY],client:e=>[e.clientX,e.clientY],screen:e=>[e.screenX,e.screenY],movement:e=>e instanceof MouseEvent?[e.movementX,e.movementY]:null};function ve(e={}){const{type:t="page",touch:s=!0,resetOnTouchEnds:i=!1,initialValue:r={x:0,y:0},window:n=P,target:u=n,scroll:o=!0,eventFilter:l}=e;let a=null,c=0,h=0;const v=y(r.x),f=y(r.y),m=y(null),M=typeof t=="function"?t:pe[t],d=p=>{const R=M(p);a=p,R&&([v.value,f.value]=R,m.value="mouse"),n&&(c=n.scrollX,h=n.scrollY)},g=p=>{if(p.touches.length>0){const R=M(p.touches[0]);R&&([v.value,f.value]=R,m.value="touch")}},w=()=>{if(!a||!n)return;const p=M(a);a instanceof MouseEvent&&p&&(v.value=p[0]+n.scrollX-c,f.value=p[1]+n.scrollY-h)},b=()=>{v.value=r.x,f.value=r.y},D=l?p=>l(()=>d(p),{}):p=>d(p),E=l?p=>l(()=>g(p),{}):p=>g(p),x=l?()=>l(()=>w(),{}):()=>w();if(u){const p={passive:!0};O(u,["mousemove","dragover"],D,p),s&&t!=="movement"&&(O(u,["touchstart","touchmove"],E,p),i&&O(u,"touchend",b,p)),o&&t==="page"&&O(n,"scroll",x,p)}return{x:v,y:f,sourceType:m}}function we(e,t={}){const{windowResize:s=!0,windowScroll:i=!0,handleOutside:r=!0,window:n=P}=t,u=t.type||"page",{x:o,y:l,sourceType:a}=ve(t),c=y(e??(n==null?void 0:n.document.body)),h=y(0),v=y(0),f=y(0),m=y(0),M=y(0),d=y(0),g=y(!0);function w(){if(!n)return;const E=S(c);if(!E||!(E instanceof Element))return;const{left:x,top:p,width:R,height:L}=E.getBoundingClientRect();f.value=x+(u==="page"?n.pageXOffset:0),m.value=p+(u==="page"?n.pageYOffset:0),M.value=L,d.value=R;const X=o.value-f.value,A=l.value-m.value;g.value=R===0||L===0||X<0||A<0||X>R||A>L,(r||!g.value)&&(h.value=X,v.value=A)}const b=[];function D(){b.forEach(E=>E()),b.length=0}if(G(()=>{w()}),n){const{stop:E}=fe(c,w),{stop:x}=re(c,w,{attributeFilter:["style","class"]}),p=z([c,o,l],w);b.push(E,x,p),O(document,"mouseleave",()=>g.value=!0,{passive:!0}),i&&b.push(O("scroll",w,{capture:!0,passive:!0})),s&&b.push(O("resize",w,{passive:!0}))}return{x:o,y:l,sourceType:a,elementX:h,elementY:v,elementPositionX:f,elementPositionY:m,elementHeight:M,elementWidth:d,isOutside:g,stop:D}}function be(e=ce()){const t=y(),s=()=>{const i=S(e);i&&(t.value=i.parentElement)};return G(s),z(()=>_(e),s),t}export{we as a,me as b,ye as c,ge as d,he as o,be as u};
